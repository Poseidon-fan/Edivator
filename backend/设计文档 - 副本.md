# Edivate后端设计文档

## 接口说明

### 用户相关

### 文件相关

#### 创建文档模板

> - URL：documents/templates/create/
>
> - 请求方式：POST
>
> - 请求头参数：jwt校验token，同上
>
> - 请求体参数：
>
>   | 参数        | 含义     | 说明                     |
>   | ----------- | -------- | ------------------------ |
>   | name        | 模板名   | 字符数限制20（可以修改） |
>   | description | 模板描述 | 参数可省略               |
>
> - 返回值：略
>
> - **注**：此操作只有超级用户可执行。

#### 上传文档中的文件

> - URL：documents/innner_files/create/
>
> - 请求方式：POST
>
> - 请求头参数：jwt校验token，同上
>
> - 请求体参数：
>
>   | 参数                   | 含义                       | 说明             |
>   | ---------------------- | -------------------------- | ---------------- |
>   | file                   | 要上传的文件               | 目前大小限制10Mb |
>   | affiliated_document_id | 要上传的文件所属的文档的id |                  |
>   
>- 返回值：略
> 
>- **注**：测试不算很充分

### AI相关

#### 普通大模型对话

- URL：ai/chat/common_chat/

- 请求方式：POST

- 请求头参数：无

- 请求体参数：

  | 参数    | 含义     | 说明 |
  | ------- | -------- | ---- |
  | content | 文本内容 |      |

- 返回值：略

- **注**：无

#### ocr识别

- URL：ai/ocr/infer/

- 请求方式：POST

- 请求头参数：无

- 请求体参数：

  | 参数       | 含义             | 说明 |
  | ---------- | ---------------- | ---- |
  | base64_img | base64编码的图片 |      |

- 返回值：

  | 参数      | 含义         | 说明       |
  | --------- | ------------ | ---------- |
  | image_url | 识别结果url  |            |
  | texts     | 识别结果文字 | 字符串列表 |

- **注**：无
